void function(){"use strict";if(window.Util||"undefined"!=typeof Util)return!1;var Util={GETCODE_INTERVAL:30,AJAX_TIMEOUT:0,namespace:function(e){for(var t=e.split("."),n=this,a=0;a<t.length;++a)"undefined"==typeof n[t[a]]&&(n[t[a]]={}),n=n[t[a]];return n},inherit:function(e,t){function n(){}var a;n.prototype=e.prototype,a=new n,a.constructor=t,t.prototype=a},baseSuccessTips:function(e,t,n){noty({text:e.msg||(e.success?t||"操作成功":n||"操作失败"),type:e.success?"success":"error",layout:"top",theme:"defaultTheme",timeout:3e3})},addLoading:function(e){var t,n=!1;return $.extend(!0,{},e,{beforeSend:function(){if(t=!0,setTimeout(function(){t&&(n=(e.loading.target?$(e.loading.target):$("body")).loading({zIndex:10000003,loader:{cls:"loader-circle"}}))},e.loading.delay),$.isFunction(e.beforeSend))return e.beforeSend.apply(this,arguments)},complete:function(){t=!1,n&&n.remove()}})},renderTpl:function(e,t,n){var a=this,i={},o=function(e,t){try{return new Function("data",$.trim(e))(t)}catch(n){return}},r=e.match(/\{%(.+)%}/);return r&&r[1]?a.renderTpl(e.replace(/\{%(.+)%}/m,function(e){var n=o(a.renderTpl(r[1],t,!0),t);return void 0==n?"":n}),t):e.replace(/\{[^{}]*}/g,function(e){var a=$.trim(e.slice(1,-1)),r=t[a],s=a.match(/^#(.+)#$/);return s&&s[1]?(0===s[1].search(/[.[]/)?"data":"data.")+s[1]:n?e:(void 0===r&&0===a.search(/[.[]/)&&(r=o("return data"+a,t)),$.isArray(r)?(void 0==i[a]?i[a]=0:i[a]+=1,r[i[a]]):void 0!=r||n?r:"")})}};$.ajaxSetup({timeout:Util.AJAX_TIMEOUT}),Util.baseAjax=function(e,t){return e.loading&&(e=$.extend(!0,{loading:{delay:300}},e),e=Util.addLoading(e)),$.ajax($.extend({type:"get",dataType:"json",cache:!1,error:function(e){noty({text:"存在异常 - Error Code: "+e.status+" &nbsp;请刷新当前页面重新操作！",type:"error",layout:"top",theme:"defaultTheme",timeout:2e3})}},e,{success:function(n){$.isFunction(t)&&t(n),$.isFunction(e.success)&&e.success(n)},complete:function(t){var n=t.responseJSON;if(n=n||{},0===t.status&&"rejected"===t.state()||60004===n.code,$.isFunction(e.complete))return e.complete.apply(this,arguments)}}))},void function(opts){function validationHandle(event){var me=$(this),isValidate=!0,rule={},validations=me.attr("validations");return me.data("validateIgnore")||me.attr("disabled")||!validations?(setTips.call(me,isValidate),isValidate):(validations=validations.replace(/\s/g,"").split(";")||[],$.each(validations,function(i,m){var params;return m=m.match(/(\w+)(\[.+\])?/)||[],"required"!==m[1]&&""===me.val()||(rules[m[1]]&&(isValidate=rules[m[1]].method.call(me,me.val(),params=eval(m[2])),$.extend(!0,rule,rules[m[1]]),rule.message=rule.message.replace(/\{(\d+)\}/g,function(e){return params[e.slice(1,-1)]})),isValidate)}),setTips.call(me,isValidate,rule,event.data),isValidate)}function setTips(e,t,n){var a,i=this;a=i.get(0).toolbarIns,e?a&&(i.removeClass("pressed"),a.toolbar.off().remove(),i.get(0).toolbarIns=null):a?(a.toolbar.find(".-error-msg").text(t.message),a.show()):createTips.call(i,t.message,n)}function createTips(e,t){var n=this;n.toolbar($.extend({content:'<div><a class="-error-msg ov-e fz-12px" style="color: #fff" href="javascript:void(0);">'+e+"</a></div>",position:"right",style:"danger",parentPositionR:!0,parentContainer:!0},t)),t.show&&setTimeout(function(){n.get(0).toolbarIns.show()},300)}function init(e){e=$.extend(!0,e,{show:!0}),$(this).on("focusin.validate focusout.validate keyup.validate",validateSelect,e,validationHandle).on("click.validate","select, option",e,validationHandle)}var validateSelect=":text, [type='password'], select, textarea, [type='number'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'],  [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='search'], [type='month'], [contenteditable]",rules={required:{method:function(e){return!!e},message:"该字段必填！"},phoneCN:{method:function(e){return e=(e+"").replace(/[\(\)\s\-]/g,""),11===e.length&&/^1[3-9](\d{9})$/.test(e)},message:"请输入正确的手机号码"},password:{method:function(e){var t=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s)(?=.*[^A-Za-z0-9]).{8,20}$/;return t.test(e)},message:"密码必须包含大小写字符、数字和特殊符号的 8 - 20个字符"},numeric:{method:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},message:"请输入数字！"},number:{method:function(e){return/^[\+\-]?\d+$/.test(e)},message:"请输入整数！"},minLength:{method:function(e,t){return e.length>=t[0]},message:"该字段长度必须大于等于 {0}"},maxLength:{method:function(e,t){return e.length<=t[0]},message:"该字段长度必须小于等于 {0}"},email:{method:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},message:"请输入正确邮箱地址！"}},methods={addRules:function(e){return $.extend(!0,rules,e),this},validation:function(e){var t=this.filter(validateSelect),n=!0;return!t.length&&(t=this.find(validateSelect)),t.each(function(t,a){return n=validationHandle.call(a,{data:$.extend(e,{show:!0})})}),n},enableValidation:function(){var e=this.filter(validateSelect);return!e.length&&(e=this.find(validateSelect)),e.each(function(e,t){$(t).data("validateIgnore",!1)}),this},disableValidation:function(){var e=this.filter(validateSelect);return!e.length&&(e=this.find(validateSelect)),e.each(function(e,t){$(t).data("validateIgnore",!0),setTips.call($(t),!0)}),this}};$.fn.validate=function(e){return"string"==typeof e?methods[e].apply(this,[].slice.call(arguments,1)):this.each(function(t,n){init.call(n,e)})},$.validate={addRules:function(e){return $.extend(!0,rules,e),this}}}(),Util.parseParam=function(e){for(var t,n={},a=(e+"").replace(/\+/g," ").split("&"),i=a.length,o=0,r=function(e,t){"undefined"!=typeof n[e]?$.isArray(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t};o<i;o++)a[o]&&(t=a[o].split("="),r(decodeURIComponent(t[0]),decodeURIComponent(t[1])));return n},Util.namespace("Date"),Util.Date.format=function(e,t){if(!+e)return"";var n=new Date(e),a=function(e){return e<10?"0"+e:e},i=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),s=n.getHours(),l=n.getMinutes(),u=n.getSeconds();return t.replace(/(yyyy|yy)|(mm)|(dd)|(hh)|(\:mm)|(ss)/gi,function(e){switch(e.substr(0,1)){case"y":return(i+"").substr(-e.length);case"m":return e.length>=2?a(o):o;case"d":return e.length>=2?a(r):r;case"h":return e.length>=2?a(s):s;case":":return":"+(e.length>=2?a(l):l);case"s":return e.length>=2?a(u):u;default:return e}})},Util.namespace("Form"),Util.Form.loadData=function(e,t){var n,a,i=0;for(e instanceof jQuery?n=e[0]:$.isArray(e)?e[0]:n=e;a=n[i++];)void 0!=t[a.name]&&(a.value=t[a.name])},Util.Form.loadSelectOptions=function(e,t,n){var a,i=void 0!=n?'<option value="">'+n+"</option>":"",o=0;if($.isArray(t)&&!$.isEmptyObject(t))for(a=t.length;o<a;++o)i+='<option value="'+t[o].value+'">'+t[o].key+"</option>";else i+='<option value="">无数据项</option>';$(e).html(i)},Util.setLocalStorage=function(){return window.localStorage&&"function"==typeof window.localStorage.setItem?function(e){for(var t in e)window.localStorage.setItem(t,e[t]);return!0}:function(){return!1}}(),Util.getLocalStorage=function(){return window.localStorage&&"function"==typeof window.localStorage.getItem?function(e){var t=[];return $.isArray(e)?$.each(e,function(e,n){t.push(window.localStorage.getItem(n))}):t.push(window.localStorage.getItem(e)),t}:function(){return[]}}(),Util.namespace("Tab"),Util.Tab.init=function(e,t){e.on("click.Tab",".tab .tab-header",function(){var e=$(this),n=e.closest(".tab").find(".tab-body").eq(e.index());return!e.hasClass("active")&&(e.addClass("active").siblings().removeClass("active"),n.removeClass("d-n").siblings().addClass("d-n"),void(t&&$.isFunction(t.onClick)&&t.onClick(e,n)))}).on("click.Tab",".tab .tab-close",function(){var e=$(this),n=e.closest(".tab-header"),a=e.closest(".tab").find(".tab-body").eq(n.index());t&&$.isFunction(t.onClose)&&t.onClose(n,a),Util.Tab.select(n.prev()),a.remove(),n.remove()}).on("click.Tab",".tab .tab-refresh",function(){var e=$(this),n=e.closest(".tab-header"),a=e.closest(".tab").find(".tab-body").eq(n.index());t&&$.isFunction(t.onRefresh)&&t.onRefresh(n,a)})},Util.Tab.tpls={tabBody:'<div class="tab-body p-10px d-n"></div>',tabItem:'<li class="fl-l tab-header"><span>{text}</span>{closeIcon}{refreshIcon}</li>',closeIcon:'<i class="iconfont icon-close tab-close"></i>',refreshIcon:'<i class="iconfont icon-refresh1 tab-refresh fz-12px-i"></i>'},Util.Tab.add=function(e,t,n){var a=$(this.tpls.tabBody);e.find(".header-container").append(Util.renderTpl(this.tpls.tabItem,{text:t.text,closeIcon:t.closed?this.tpls.closeIcon:"",refreshIcon:t.refresh?this.tpls.refreshIcon:""})),e.find(".tab-container").append(a),t.selected&&this.select(e,"last"),$.isFunction(n)&&n(a)},Util.Tab.select=function(e,t,n){var a=$();"function"==$.type(t)&&(n=t,t=null),"last"===t||"first"===t?a=e.find(".tab-header")[t]().trigger("click"):$.isNumeric(t)?a=e.find(".tab-header").eq(t).trigger("click"):void 0==t&&(a=e.trigger("click")),$.isFunction(n)&&n(a.closest(".tab").find(".tab-body").eq(a.index()))},Util.Tab.close=function(e,t){var n,a=$();"last"===t||"first"===t?a=e.find(".tab-header")[t]():$.isNumeric(t)?a=e.find(".tab-header").eq(t):void 0==t&&(a=e),n=a.closest(".tab").find(".tab-body").eq(a.index()),Util.Tab.select(a.prev()),n.remove(),a.remove()},Util.generateTab=function(){return Util.currentTabContainer=$('<div class="h-100 ov-a -tab-'+Math.random().toString(16).substr(2)+'"></div>')},Util.getCurrentTab=function(){return Util.currentTabContainer},window.Util=Util}();